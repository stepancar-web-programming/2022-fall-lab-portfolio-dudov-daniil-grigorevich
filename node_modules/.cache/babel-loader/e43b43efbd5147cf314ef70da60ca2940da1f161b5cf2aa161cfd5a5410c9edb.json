{"ast":null,"code":"export function mod(n, d) {\n  return (n % d + d) % d;\n}\nexport function focusNextElement() {\n  //add all elements we want to include in our selection\n  var focussableElements = 'a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex=\"-1\"])';\n  if (document.activeElement && document.activeElement.form) {\n    var focussable = Array.prototype.filter.call(document.activeElement.form.querySelectorAll(focussableElements), function (element) {\n      //check for visibility while always include the current activeElement\n      return element.offsetWidth > 0 || element.offsetHeight > 0 || element === document.activeElement;\n    });\n    var index = focussable.indexOf(document.activeElement);\n    console.log(nextElement);\n    if (index > -1) {\n      var nextElement = focussable[index + 1] || focussable[0];\n      nextElement.focus();\n    }\n  }\n}\n{\n  element.dispatchEvent(new KeyboardEvent('keydown', {\n    'key': 'a'\n  }));\n}","map":{"version":3,"names":["mod","n","d","focusNextElement","focussableElements","document","activeElement","form","focussable","Array","prototype","filter","call","querySelectorAll","element","offsetWidth","offsetHeight","index","indexOf","console","log","nextElement","focus","dispatchEvent","KeyboardEvent"],"sources":["/home/shket/projects/javascript/shket-dev/src/utils.js"],"sourcesContent":["export function mod(n, d) {\n  return ((n % d) + d) % d\n}\n\nexport function focusNextElement() {\n  //add all elements we want to include in our selection\n  var focussableElements =\n    'a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex=\"-1\"])'\n  if (document.activeElement && document.activeElement.form) {\n    var focussable = Array.prototype.filter.call(\n      document.activeElement.form.querySelectorAll(focussableElements),\n      function (element) {\n        //check for visibility while always include the current activeElement\n        return (\n          element.offsetWidth > 0 || element.offsetHeight > 0 || element === document.activeElement\n        )\n      }\n    )\n    var index = focussable.indexOf(document.activeElement)\n      console.log(nextElement)\n    if (index > -1) {\n      var nextElement = focussable[index + 1] || focussable[0]\n      nextElement.focus()\n    }\n  }\n}\n\n{\n\n  element.dispatchEvent(new KeyboardEvent('keydown', {'key': 'a'}));\n}\n"],"mappings":"AAAA,OAAO,SAASA,GAAG,CAACC,CAAC,EAAEC,CAAC,EAAE;EACxB,OAAO,CAAED,CAAC,GAAGC,CAAC,GAAIA,CAAC,IAAIA,CAAC;AAC1B;AAEA,OAAO,SAASC,gBAAgB,GAAG;EACjC;EACA,IAAIC,kBAAkB,GACpB,8HAA8H;EAChI,IAAIC,QAAQ,CAACC,aAAa,IAAID,QAAQ,CAACC,aAAa,CAACC,IAAI,EAAE;IACzD,IAAIC,UAAU,GAAGC,KAAK,CAACC,SAAS,CAACC,MAAM,CAACC,IAAI,CAC1CP,QAAQ,CAACC,aAAa,CAACC,IAAI,CAACM,gBAAgB,CAACT,kBAAkB,CAAC,EAChE,UAAUU,OAAO,EAAE;MACjB;MACA,OACEA,OAAO,CAACC,WAAW,GAAG,CAAC,IAAID,OAAO,CAACE,YAAY,GAAG,CAAC,IAAIF,OAAO,KAAKT,QAAQ,CAACC,aAAa;IAE7F,CAAC,CACF;IACD,IAAIW,KAAK,GAAGT,UAAU,CAACU,OAAO,CAACb,QAAQ,CAACC,aAAa,CAAC;IACpDa,OAAO,CAACC,GAAG,CAACC,WAAW,CAAC;IAC1B,IAAIJ,KAAK,GAAG,CAAC,CAAC,EAAE;MACd,IAAII,WAAW,GAAGb,UAAU,CAACS,KAAK,GAAG,CAAC,CAAC,IAAIT,UAAU,CAAC,CAAC,CAAC;MACxDa,WAAW,CAACC,KAAK,EAAE;IACrB;EACF;AACF;AAEA;EAEER,OAAO,CAACS,aAAa,CAAC,IAAIC,aAAa,CAAC,SAAS,EAAE;IAAC,KAAK,EAAE;EAAG,CAAC,CAAC,CAAC;AACnE"},"metadata":{},"sourceType":"module","externalDependencies":[]}